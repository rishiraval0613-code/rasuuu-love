<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>For My Rasuu â¤ï¸</title>

<style>

html,body{
  margin:0;
  padding:0;
  background:black;
  color:gold;
  font-family:cursive;
  text-align:center;
  overflow-x:hidden;
}

/* Canvas */
canvas{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
  z-index:0;
}

/* Layers */
#text,#hint,#photos,#popup{
  position:relative;
  z-index:5;
}

/* Text */
#text{
  margin-top:100px;
  font-size:30px;
  text-shadow:0 0 15px gold;
}

#hint{
  font-size:14px;
  color:white;
}

/* Photos */
#photos{
  display:none;
  margin-top:40px;
  padding-bottom:60px;
}

/* Flip Cards */

.card{
  width:260px;
  height:360px;
  perspective:1000px;
  margin:22px auto;
}

.inner{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:0.7s;
}

.card.flip .inner{
  transform:rotateY(180deg);
}

.front,.back{
  position:absolute;
  width:100%;
  height:100%;
  border-radius:20px;
  backface-visibility:hidden;
  overflow:hidden;
  box-shadow:0 0 20px gold;
}

/* Front */
.front{
  background:#111;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
}

/* Back */
.back{
  transform:rotateY(180deg);
}

.back img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* Hearts */
.heart{
  position:fixed;
  color:pink;
  font-size:22px;
  animation:float 3s linear forwards;
  z-index:3;
}

@keyframes float{
  from{transform:translateY(0);opacity:1;}
  to{transform:translateY(-500px);opacity:0;}
}

/* Popup */
#popup{
  display:none;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:#111;
  border:2px solid gold;
  padding:25px;
  border-radius:15px;
  box-shadow:0 0 20px gold;
  width:80%;
  max-width:300px;
}

#popup button{
  margin:10px;
  padding:8px 20px;
  border:none;
  border-radius:20px;
  font-size:16px;
  cursor:pointer;
}

#yes{
  background:pink;
}

#no{
  background:gray;
  color:white;
}

</style>
</head>

<body>

<canvas id="c"></canvas>

<div id="text">Tap to start ğŸ’–</div>
<div id="hint">Tap for magic âœ¨</div>

<div id="photos">

<h2>I Love You Rasuu â¤ï¸</h2>

<div class="card"><div class="inner">
<div class="front">Tap ğŸ’•</div>
<div class="back"><img src="photo1.jpg"></div>
</div></div>

<div class="card"><div class="inner">
<div class="front">Tap ğŸ’•</div>
<div class="back"><img src="photo2.jpg"></div>
</div></div>

<div class="card"><div class="inner">
<div class="front">Tap ğŸ’•</div>
<div class="back"><img src="photo3.jpg"></div>
</div></div>

<div class="card"><div class="inner">
<div class="front">Tap ğŸ’•</div>
<div class="back"><img src="photo4.jpg"></div>
</div></div>

<div class="card"><div class="inner">
<div class="front">Tap ğŸ’•</div>
<div class="back"><img src="photo5.jpg"></div>
</div></div>

<h3>You Complete Me ğŸ’•</h3>

</div>

<!-- Popup -->
<div id="popup">

<h3>Will You Be Mine? ğŸ’â¤ï¸</h3>

<button id="yes">Yes ğŸ’–</button>
<button id="no">No ğŸ™ˆ</button>

</div>

<script>

/* Canvas */

const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
resize();
addEventListener("resize",resize);

/* Fireworks */

let fireworks=[];

function Fire(x,y){
  this.x=x;
  this.y=y;
  this.dx=(Math.random()-0.5)*5;
  this.dy=(Math.random()-0.5)*5;
  this.life=45;
}

function boom(x,y,count=20){
  for(let i=0;i<count;i++){
    fireworks.push(new Fire(x,y));
  }
}

function draw(){

  ctx.fillStyle="rgba(0,0,0,0.4)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  fireworks.forEach((f,i)=>{

    ctx.fillStyle="gold";
    ctx.beginPath();
    ctx.arc(f.x,f.y,2,0,Math.PI*2);
    ctx.fill();

    f.x+=f.dx;
    f.y+=f.dy;
    f.life--;

    if(f.life<0) fireworks.splice(i,1);

  });

  requestAnimationFrame(draw);
}
draw();

/* Hearts */

function createHeart(){

  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML="ğŸ’–";

  h.style.left=Math.random()*100+"vw";
  h.style.bottom="0";

  document.body.appendChild(h);

  setTimeout(()=>h.remove(),3000);
}

/* Main Logic */

let taps=0;
let photosOpened=false;

document.body.addEventListener("touchstart",(e)=>{

  const t=e.touches[0];

  boom(t.clientX,t.clientY);
  createHeart();

  taps++;

  /* FAST TEXT FLOW */

  if(taps==1) text.innerText="I Love You ğŸ’›";
  if(taps==2) text.innerText="Forever With You ğŸ’•";
  if(taps==3) text.innerText="Only You â¤ï¸";
  if(taps==4) text.innerText="My Everything ğŸ’–";

  /* OPEN PHOTOS QUICK */

  if(taps==5 && !photosOpened){

    photosOpened=true;

    text.innerText="For You Rasuu ğŸŒâ¤ï¸";

    photos.style.display="block";

    setTimeout(()=>{
      window.scrollTo({
        top:document.body.scrollHeight,
        behavior:"smooth"
      });
    },400);
  }

});

/* Flip Cards */

document.querySelectorAll(".card").forEach(card=>{

  card.addEventListener("click",(e)=>{

    card.classList.toggle("flip");

    boom(e.clientX,e.clientY);
    createHeart();

  });

});

/* Show Proposal After Scroll End */

window.addEventListener("scroll",()=>{

  if(photosOpened){

    if(window.innerHeight + window.scrollY >= document.body.offsetHeight-50){

      setTimeout(()=>{
        popup.style.display="block";
      },800);

    }
  }

});

/* YES = CRAZY BLAST */

yes.onclick=()=>{

  popup.innerHTML="<h2>I Love You ğŸ˜â¤ï¸</h2>";

  let i=0;

  const blast=setInterval(()=>{

    boom(
      Math.random()*innerWidth,
      Math.random()*innerHeight,
      40
    );

    createHeart();

    i++;

    if(i>15) clearInterval(blast);

  },150);

};

/* NO Button Run ğŸ˜… */

no.onclick=()=>{

  no.style.position="absolute";
  no.style.left=Math.random()*200+"px";
  no.style.top=Math.random()*150+"px";

};

</script>

</body>
</html>
