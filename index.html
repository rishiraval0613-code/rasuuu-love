<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>For My Rasuu â¤ï¸</title>

<style>

body{
  margin:0;
  background:black;
  color:gold;
  font-family:cursive;
  text-align:center;
  overflow-x:hidden;
}

/* Music */
audio{display:none;}

/* Canvas */
canvas{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
  z-index:0;
}

/* Layers */
#text,#hint,#gallery,#popup{
  position:relative;
  z-index:5;
}

/* Intro */
#text{
  margin-top:120px;
  font-size:32px;
  text-shadow:0 0 15px gold;
}

#hint{
  font-size:14px;
  color:white;
}

/* Gallery */
#gallery{
  display:none;
  margin-top:40px;
  padding-bottom:80px;
}

/* Cards */

.card{
  width:90%;
  max-width:350px;
  height:420px;
  margin:30px auto;
  perspective:1000px;
}

.inner{
  width:100%;
  height:100%;
  transition:transform 0.8s;
  transform-style:preserve-3d;
  position:relative;
}

.card.flip .inner{
  transform:rotateY(180deg);
}

.front,.back{
  width:100%;
  height:100%;
  position:absolute;
  backface-visibility:hidden;
  border-radius:20px;
  box-shadow:0 0 15px gold;
}

.front{
  background:#111;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:26px;
}

.back{
  transform:rotateY(180deg);
  background:black;
}

.back img{
  width:100%;
  height:75%;
  object-fit:cover;
  border-radius:20px 20px 0 0;
}

.caption{
  padding:8px;
  font-size:15px;
}

/* Hearts */

.heart{
  position:fixed;
  color:pink;
  font-size:20px;
  animation:float 4s linear forwards;
  z-index:3;
}

@keyframes float{
  from{transform:translateY(0);opacity:1;}
  to{transform:translateY(-600px);opacity:0;}
}

/* Popup */

#popup{
  display:none;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:#111;
  border:2px solid gold;
  padding:25px;
  border-radius:15px;
  box-shadow:0 0 25px gold;
  width:80%;
  max-width:300px;
}

#popup button{
  margin:10px;
  padding:8px 20px;
  border:none;
  border-radius:20px;
  font-size:16px;
}

#yes{background:pink;}
#no{background:gray;color:white;}

</style>
</head>

<body>

<!-- Background Music -->
<audio id="bgm" src="song.mp3" loop></audio>

<canvas id="c"></canvas>

<div id="text">Tap to Start ğŸ’–</div>
<div id="hint">Tap for magic âœ¨</div>


<!-- Gallery -->

<div id="gallery">

<h2>I Love You Rasuu â¤ï¸</h2>


<!-- CARD 1 -->
<div class="card"><div class="inner">
<div class="front">Tap ğŸ’•</div>
<div class="back">
<img src="photo1.jpg">
<div class="caption">My favorite smile ğŸ˜</div>
</div>
</div></div>

<!-- CARD 2 -->
<div class="card"><div class="inner">
<div class="front">Tap ğŸ’–</div>
<div class="back">
<img src="photo2.jpg">
<div class="caption">You make my world bright âœ¨</div>
</div>
</div></div>

<!-- CARD 3 -->
<div class="card"><div class="inner">
<div class="front">Tap â¤ï¸</div>
<div class="back">
<img src="photo3.jpg">
<div class="caption">Every moment with you is magic ğŸ’«</div>
</div>
</div></div>

<!-- CARD 4 -->
<div class="card"><div class="inner">
<div class="front">Tap ğŸ˜˜</div>
<div class="back">
<img src="photo4.jpg">
<div class="caption">My happiness begins with you ğŸ’•</div>
</div>
</div></div>

<!-- CARD 5 -->
<div class="card"><div class="inner">
<div class="front">Tap ğŸ’</div>
<div class="back">
<img src="photo5.jpg">
<div class="caption">Forever starts with us â¤ï¸</div>
</div>
</div></div>

</div>


<!-- Popup -->

<div id="popup">

<h3>Will You Be Mine? ğŸ’â¤ï¸</h3>

<button id="yes">Yes ğŸ’–</button>
<button id="no">No ğŸ™ˆ</button>

</div>


<script>

/* Canvas */

const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
resize();
addEventListener("resize",resize);


/* Fireworks */

let fireworks=[];

function Fire(x,y){
  this.x=x;
  this.y=y;
  this.dx=(Math.random()-0.5)*5;
  this.dy=(Math.random()-0.5)*5;
  this.life=40;
}

function boom(x,y){
  for(let i=0;i<30;i++){
    fireworks.push(new Fire(x,y));
  }
}

function draw(){

  ctx.fillStyle="rgba(0,0,0,0.3)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  fireworks.forEach((f,i)=>{

    ctx.fillStyle="gold";
    ctx.beginPath();
    ctx.arc(f.x,f.y,2,0,Math.PI*2);
    ctx.fill();

    f.x+=f.dx;
    f.y+=f.dy;
    f.life--;

    if(f.life<0)fireworks.splice(i,1);

  });

  requestAnimationFrame(draw);
}
draw();


/* Hearts */

function heart(){
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML="ğŸ’–";

  h.style.left=Math.random()*100+"vw";
  h.style.bottom="0";

  document.body.appendChild(h);

  setTimeout(()=>h.remove(),4000);
}


/* Intro */

let taps=0;

document.body.addEventListener("touchstart",(e)=>{

  const t=e.touches[0];
  boom(t.clientX,t.clientY);
  heart();

  taps++;

  if(taps==1)text.innerText="I Love You ğŸ’›";
  if(taps==3)text.innerText="Forever With You ğŸ’•";
  if(taps==5)text.innerText="Only You â¤ï¸";

  if(taps==6){

    text.innerText="Scroll Down ğŸ’–";
    gallery.style.display="block";

    setTimeout(()=>{
      scrollTo({top:400,behavior:"smooth"});
    },300);
  }

});


/* Cards */

let flipped=0;

document.querySelectorAll(".card").forEach(card=>{

  card.addEventListener("click",(e)=>{

    if(!card.classList.contains("flip")){
      flipped++;
    }

    card.classList.toggle("flip");

    boom(e.clientX,e.clientY);
    heart();

    if(flipped==5){

      setTimeout(()=>{

        scrollTo({
          top:document.body.scrollHeight,
          behavior:"smooth"
        });

        setTimeout(()=>{
          popup.style.display="block";
        },1000);

      },800);

    }

  });

});


/* Buttons */

yes.onclick=()=>{

  popup.innerHTML="<h2>Yaaayyy ğŸ˜â¤ï¸</h2><p>I Love You Forever ğŸ’–</p>";

  const music=document.getElementById("bgm");
  music.play();

  const blast=setInterval(()=>{
    boom(Math.random()*innerWidth,Math.random()*innerHeight);
    heart();
  },200);

  setTimeout(()=>{
    clearInterval(blast);
    popup.style.display="none";
  },20000);

};


no.onclick=()=>{

  no.style.position="absolute";
  no.style.left=Math.random()*200+"px";
  no.style.top=Math.random()*150+"px";

};

</script>

</body>
</html>
